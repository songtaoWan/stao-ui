import{u as V,d as B,q as ne,v as k,b as Y,F as L,a as P,z as A,B as N,Y as re,m as H,N as ye,A as $e,aa as be,n as te,L as _e,X as ie,D as De,a8 as ge,ad as Me,e as we,f as Se}from"./framework.b8b3e2fc.js";import{c as ke,g as Ye,C as q,i as Oe}from"./stao-ui-utils.99e971ac.js";var de={exports:{}};(function($,m){(function(d,c){$.exports=c()})(ke,function(){var d=1e3,c=6e4,M=36e5,h="millisecond",w="second",s="minute",i="hour",v="day",f="week",S="month",G="quarter",I="year",o="date",_="Invalid Date",F=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,R=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,pe={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(r){var n=["th","st","nd","rd"],e=r%100;return"["+r+(n[(e-20)%10]||n[e]||n[0])+"]"}},ae=function(r,n,e){var a=String(r);return!a||a.length>=n?r:""+Array(n+1-a.length).join(e)+r},me={s:ae,z:function(r){var n=-r.utcOffset(),e=Math.abs(n),a=Math.floor(e/60),t=e%60;return(n<=0?"+":"-")+ae(a,2,"0")+":"+ae(t,2,"0")},m:function r(n,e){if(n.date()<e.date())return-r(e,n);var a=12*(e.year()-n.year())+(e.month()-n.month()),t=n.clone().add(a,S),l=e-t<0,u=n.clone().add(a+(l?-1:1),S);return+(-(a+(e-t)/(l?t-u:u-t))||0)},a:function(r){return r<0?Math.ceil(r)||0:Math.floor(r)},p:function(r){return{M:S,y:I,w:f,d:v,D:o,h:i,m:s,s:w,ms:h,Q:G}[r]||String(r||"").toLowerCase().replace(/s$/,"")},u:function(r){return r===void 0}},U="en",j={};j[U]=pe;var se=function(r){return r instanceof X},Q=function r(n,e,a){var t;if(!n)return U;if(typeof n=="string"){var l=n.toLowerCase();j[l]&&(t=l),e&&(j[l]=e,t=l);var u=n.split("-");if(!t&&u.length>1)return r(u[0])}else{var y=n.name;j[y]=n,t=y}return!a&&t&&(U=t),t||!a&&U},D=function(r,n){if(se(r))return r.clone();var e=typeof n=="object"?n:{};return e.date=r,e.args=arguments,new X(e)},p=me;p.l=Q,p.i=se,p.w=function(r,n){return D(r,{locale:n.$L,utc:n.$u,x:n.$x,$offset:n.$offset})};var X=function(){function r(e){this.$L=Q(e.locale,null,!0),this.parse(e)}var n=r.prototype;return n.parse=function(e){this.$d=function(a){var t=a.date,l=a.utc;if(t===null)return new Date(NaN);if(p.u(t))return new Date;if(t instanceof Date)return new Date(t);if(typeof t=="string"&&!/Z$/i.test(t)){var u=t.match(F);if(u){var y=u[2]-1||0,b=(u[7]||"0").substring(0,3);return l?new Date(Date.UTC(u[1],y,u[3]||1,u[4]||0,u[5]||0,u[6]||0,b)):new Date(u[1],y,u[3]||1,u[4]||0,u[5]||0,u[6]||0,b)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},n.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},n.$utils=function(){return p},n.isValid=function(){return this.$d.toString()!==_},n.isSame=function(e,a){var t=D(e);return this.startOf(a)<=t&&t<=this.endOf(a)},n.isAfter=function(e,a){return D(e)<this.startOf(a)},n.isBefore=function(e,a){return this.endOf(a)<D(e)},n.$g=function(e,a,t){return p.u(e)?this[a]:this.set(t,e)},n.unix=function(){return Math.floor(this.valueOf()/1e3)},n.valueOf=function(){return this.$d.getTime()},n.startOf=function(e,a){var t=this,l=!!p.u(a)||a,u=p.p(e),y=function(W,x){var T=p.w(t.$u?Date.UTC(t.$y,x,W):new Date(t.$y,x,W),t);return l?T:T.endOf(v)},b=function(W,x){return p.w(t.toDate()[W].apply(t.toDate("s"),(l?[0,0,0,0]:[23,59,59,999]).slice(x)),t)},g=this.$W,O=this.$M,C=this.$D,E="set"+(this.$u?"UTC":"");switch(u){case I:return l?y(1,0):y(31,11);case S:return l?y(1,O):y(0,O+1);case f:var z=this.$locale().weekStart||0,Z=(g<z?g+7:g)-z;return y(l?C-Z:C+(6-Z),O);case v:case o:return b(E+"Hours",0);case i:return b(E+"Minutes",1);case s:return b(E+"Seconds",2);case w:return b(E+"Milliseconds",3);default:return this.clone()}},n.endOf=function(e){return this.startOf(e,!1)},n.$set=function(e,a){var t,l=p.p(e),u="set"+(this.$u?"UTC":""),y=(t={},t[v]=u+"Date",t[o]=u+"Date",t[S]=u+"Month",t[I]=u+"FullYear",t[i]=u+"Hours",t[s]=u+"Minutes",t[w]=u+"Seconds",t[h]=u+"Milliseconds",t)[l],b=l===v?this.$D+(a-this.$W):a;if(l===S||l===I){var g=this.clone().set(o,1);g.$d[y](b),g.init(),this.$d=g.set(o,Math.min(this.$D,g.daysInMonth())).$d}else y&&this.$d[y](b);return this.init(),this},n.set=function(e,a){return this.clone().$set(e,a)},n.get=function(e){return this[p.p(e)]()},n.add=function(e,a){var t,l=this;e=Number(e);var u=p.p(a),y=function(O){var C=D(l);return p.w(C.date(C.date()+Math.round(O*e)),l)};if(u===S)return this.set(S,this.$M+e);if(u===I)return this.set(I,this.$y+e);if(u===v)return y(1);if(u===f)return y(7);var b=(t={},t[s]=c,t[i]=M,t[w]=d,t)[u]||1,g=this.$d.getTime()+e*b;return p.w(g,this)},n.subtract=function(e,a){return this.add(-1*e,a)},n.format=function(e){var a=this,t=this.$locale();if(!this.isValid())return t.invalidDate||_;var l=e||"YYYY-MM-DDTHH:mm:ssZ",u=p.z(this),y=this.$H,b=this.$m,g=this.$M,O=t.weekdays,C=t.months,E=t.meridiem,z=function(x,T,J,ee){return x&&(x[T]||x(a,l))||J[T].slice(0,ee)},Z=function(x){return p.s(y%12||12,x,"0")},W=E||function(x,T,J){var ee=x<12?"AM":"PM";return J?ee.toLowerCase():ee};return l.replace(R,function(x,T){return T||function(J){switch(J){case"YY":return String(a.$y).slice(-2);case"YYYY":return p.s(a.$y,4,"0");case"M":return g+1;case"MM":return p.s(g+1,2,"0");case"MMM":return z(t.monthsShort,g,C,3);case"MMMM":return z(C,g);case"D":return a.$D;case"DD":return p.s(a.$D,2,"0");case"d":return String(a.$W);case"dd":return z(t.weekdaysMin,a.$W,O,2);case"ddd":return z(t.weekdaysShort,a.$W,O,3);case"dddd":return O[a.$W];case"H":return String(y);case"HH":return p.s(y,2,"0");case"h":return Z(1);case"hh":return Z(2);case"a":return W(y,b,!0);case"A":return W(y,b,!1);case"m":return String(b);case"mm":return p.s(b,2,"0");case"s":return String(a.$s);case"ss":return p.s(a.$s,2,"0");case"SSS":return p.s(a.$ms,3,"0");case"Z":return u}return null}(x)||u.replace(":","")})},n.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},n.diff=function(e,a,t){var l,u=this,y=p.p(a),b=D(e),g=(b.utcOffset()-this.utcOffset())*c,O=this-b,C=function(){return p.m(u,b)};switch(y){case I:l=C()/12;break;case S:l=C();break;case G:l=C()/3;break;case f:l=(O-g)/6048e5;break;case v:l=(O-g)/864e5;break;case i:l=O/M;break;case s:l=O/c;break;case w:l=O/d;break;default:l=O}return t?l:p.a(l)},n.daysInMonth=function(){return this.endOf(S).$D},n.$locale=function(){return j[this.$L]},n.locale=function(e,a){if(!e)return this.$L;var t=this.clone(),l=Q(e,a,!0);return l&&(t.$L=l),t},n.clone=function(){return p.w(this.$d,this)},n.toDate=function(){return new Date(this.valueOf())},n.toJSON=function(){return this.isValid()?this.toISOString():null},n.toISOString=function(){return this.$d.toISOString()},n.toString=function(){return this.$d.toUTCString()},r}(),le=X.prototype;return D.prototype=le,[["$ms",h],["$s",w],["$m",s],["$H",i],["$W",v],["$M",S],["$y",I],["$D",o]].forEach(function(r){le[r[1]]=function(n){return this.$g(n,r[0],r[1])}}),D.extend=function(r,n){return r.$i||(r(n,X,D),r.$i=!0),D},D.locale=Q,D.isDayjs=se,D.unix=function(r){return D(1e3*r)},D.en=j[U],D.Ls=j,D.p={},D})})(de);var xe=de.exports;const ue=Ye(xe);var Fe=Object.defineProperty,oe=Object.getOwnPropertySymbols,Ce=Object.prototype.hasOwnProperty,Ie=Object.prototype.propertyIsEnumerable,ce=($,m,d)=>m in $?Fe($,m,{enumerable:!0,configurable:!0,writable:!0,value:d}):$[m]=d,Te=($,m)=>{for(var d in m||(m={}))Ce.call(m,d)&&ce($,d,m[d]);if(oe)for(var d of oe(m))Ie.call(m,d)&&ce($,d,m[d]);return $};const fe=$=>(we("data-v-0ee75c9c"),$=$(),Se(),$),Ae=["webkitdirectory","multiple","accept"],Le=fe(()=>L("div",{class:"default_btn"},"选择文件",-1)),je=["onDrop"],ze=fe(()=>L("div",{class:"default_btn"},"选择文件",-1)),We=V({__name:"FileSelector",props:{webkitdirectory:{type:Boolean,default:!1},accept:{default:""},limit:{default:1},drag:{type:Boolean,default:!1},excessReplace:{type:Boolean,default:!1},size:{},disabled:{type:Boolean,default:!1}},emits:["changeFile","overSize"],setup($,{expose:m,emit:d}){const c=$,M=(o,_,F)=>!(_&&o.size>_||F&&o.type!==F),h=B(c.disabled);ne(()=>c.disabled,o=>{h.value=o});const w=B(null),s=()=>{w.value&&(h.value||w.value.click())},i=B([]),v=o=>{if(!o.length)return;if(c.size&&c.size>0){const F=o.filter(R=>!M(R,c.size));if(F.length){d("overSize",F);return}}const _={singleFile:()=>{c.excessReplace||(h.value=!0),i.value=o,d("changeFile",i.value)},multipleFile:()=>{if(c.limit===1/0){i.value.push(...o),d("changeFile",i.value);return}i.value.length+o.length>=c.limit&&!c.excessReplace&&(h.value=!0);const F=[...i.value,...o];if(c.excessReplace){const R=F.length;F.splice(0,R-c.limit)}else F.splice(c.limit);i.value=F,d("changeFile",i.value)},folder:()=>{h.value=!0,i.value=o,d("changeFile",i.value)}};if(c.webkitdirectory){_.folder();return}if(!c.limit||c.limit===1){_.singleFile();return}_.multipleFile()},f=o=>{!Number.isInteger(o)||o>=i.value.length||(i.value.splice(o,1),h.value&&(h.value=!1),i.value.length||(w.value.value=""))},S=()=>{h.value=!1,i.value=[],w.value.value=""},G=o=>{const _=o.target.files;_&&v(Array.from(_))},I=o=>{const _=o.dataTransfer.files;v(Array.from(_))};return m({onSelectFile:s,deleteFile:f,clearFiles:S,verifyFile:M}),(o,_)=>(k(),Y(H,null,[L("input",{ref_key:"fileEle",ref:w,type:"file",name:"files",title:"upload",webkitdirectory:o.webkitdirectory,multiple:o.limit!==void 0&&o.limit>1,accept:o.accept,class:"file_input",onChange:G},null,40,Ae),!o.drag||o.webkitdirectory?(k(),Y("div",{key:0,class:P(["file_btn",h.value?"file_btn--stop":""]),onClick:s},[A(o.$slots,"default",{disabled:h.value},()=>[Le],!0)],2)):N("",!0),o.drag&&!o.webkitdirectory?(k(),Y("div",{key:1,class:P(["file_btn",h.value?"file_btn--stop":""]),onClick:s,onDragenter:_[0]||(_[0]=re(()=>{},["prevent"])),onDragover:_[1]||(_[1]=re(()=>{},["prevent"])),onDrop:re(I,["prevent"])},[A(o.$slots,"default",{disabled:h.value},()=>[ze],!0)],42,je)):N("",!0)],64))}}),K=($,m)=>{const d=$.__vccOpts||$;for(const[c,M]of m)d[c]=M;return d},ve=K(We,[["__scopeId","data-v-0ee75c9c"]]);ve.name="STaoFileSelector";const nt=q(ve),Ee=V({__name:"SButton",props:{type:{},disabled:{type:Boolean}},setup($){return(m,d)=>(k(),Y("button",{name:"button",type:"button",autocomplete:"off",class:P(["s-button",{"s-button-line":m.type==="line","s-button--disabled":m.disabled}])},[A(m.$slots,"default",{},void 0,!0)],2))}}),he=K(Ee,[["__scopeId","data-v-08a1ebff"]]);he.name="STaoButton";const at=q(he),He=V({name:"TextEllipsis",__name:"index",emits:["changeStatus"],setup($,{emit:m}){const{isOverflow:d,textEllipsisRef:c}=Oe();return ne(d,M=>{m("changeStatus",M)},{immediate:!0}),(M,h)=>(k(),Y("div",{ref_key:"textEllipsisRef",ref:c,class:"ellipsis"},[L("span",null,[A(M.$slots,"default",{isOverflow:ye(d)},void 0,!0)])],512))}}),Be=K(He,[["__scopeId","data-v-c1e4fdcc"]]),st=q(Be),Ne={key:0,class:"tabs"},Pe=["onClick"],Re={key:0,class:"divide"},Ue={class:"tabs_content"},Ze={key:0,class:"tabs_content_item"},Je=V({name:"STabs",__name:"index",props:{type:{},tabs:{},activeId:{},isDestroyChange:{type:Boolean}},emits:["onChange","update:activeId"],setup($,{emit:m}){const d=$,c=B(0),M=s=>{c.value=s,m("update:activeId",d.tabs[s].id),m("onChange",s)};ne(()=>d.activeId,s=>{if(s===void 0)return;const i=d.tabs.findIndex(v=>v.id===s);i!==-1&&i!==c.value&&(c.value=i)},{immediate:!0});const h=B(null),w=s=>{s.preventDefault(),h.value&&(h.value.scrollLeft+=s.deltaY*.2)};return $e(()=>{if(d.type!=="card"&&h.value){const s=h.value.clientWidth;h.value.scrollWidth!==s&&h.value.addEventListener("wheel",w)}}),be(()=>{var s;(s=h.value)==null||s.removeEventListener("wheel",w)}),(s,i)=>s.tabs&&s.tabs.length?(k(),Y("div",Ne,[L("div",{class:"tabs_nav",style:De(s.type==="card"?"height: auto;":"")},[L("div",{ref_key:"tabsElement",ref:h,class:P({"tabs_nav_list--card":s.type==="card",tabs_nav_list:s.type!=="card"})},[(k(!0),Y(H,null,te(s.tabs,(v,f)=>(k(),Y("div",{class:P(["tabs_nav_item",{"tabs_nav_item--active":c.value===f}]),key:f,onClick:S=>M(f)},[A(s.$slots,"icon",{isActive:c.value===f,index:f},void 0,!0),A(s.$slots,"tab",{item:v,index:f,isActive:c.value===f},()=>[_e(ie(v.name),1)],!0)],10,Pe))),128))],2),s.type!=="card"?(k(),Y("div",Re)):N("",!0)],4),L("div",Ue,[s.isDestroyChange?(k(!0),Y(H,{key:0},te(s.tabs,(v,f)=>(k(),Y(H,{key:f},[c.value===f?(k(),Y("div",Ze,[A(s.$slots,"default",{item:v,index:f},void 0,!0)])):N("",!0)],64))),128)):(k(!0),Y(H,{key:1},te(s.tabs,(v,f)=>ge((k(),Y("div",{class:"tabs_content_item",key:f},[A(s.$slots,"default",{item:v,index:f},void 0,!0)])),[[Me,f===c.value]])),128))])])):N("",!0)}}),Ve=K(Je,[["__scopeId","data-v-daab9ae2"]]),rt=q(Ve),qe={class:"flexbox"},Ke={key:0,class:"date_panel_title"},Ge=["onClick"],Qe=V({name:"DatePanel",__name:"index",props:{title:{},activeKey:{}},emits:["changeDate"],setup($,{emit:m}){const d=$,c=s=>{const i=ue();let v=i.format("YYYY-MM-DD");return{week:()=>{const f=i.toDate().getDay()-1;return{startDate:i.subtract(f,"day").format("YYYY-MM-DD"),endDate:v}},lastWeek:()=>{const f=i.toDate().getDay()-1,S=i.subtract(f+7,"day").format("YYYY-MM-DD");return v=i.subtract(f+1,"day").format("YYYY-MM-DD"),{startDate:S,endDate:v}},month:()=>({startDate:i.startOf("M").format("YYYY-MM-DD"),endDate:v}),lastMonth:()=>{const f=i.subtract(1,"M").startOf("M").format("YYYY-MM-DD");return v=ue(f).endOf("M").format("YYYY-MM-DD"),{startDate:f,endDate:v}},year:()=>({startDate:i.startOf("y").format("YYYY-MM-DD"),endDate:v})}[s]()},M=[{label:"本周",value:"week"},{label:"上周",value:"lastWeek"},{label:"本月",value:"month"},{label:"上月",value:"lastMonth"},{label:"本年",value:"year"}],h=B(),w=s=>{h.value=s;const i=c(M[s].value);m("changeDate",Te({},i))};return ne(()=>d.activeKey,s=>{const i=M.findIndex(v=>v.value===s||v.label===s);h.value=i},{immediate:!0}),(s,i)=>(k(),Y("div",qe,[s.title?(k(),Y("div",Ke,ie(s.title),1)):N("",!0),(k(),Y(H,null,te(M,(v,f)=>L("div",{class:P(["date_panel_item",{"date_panel_item--active":h.value===f}]),key:f,onClick:S=>w(f)},ie(v.label),11,Ge)),64))]))}}),Xe=K(Qe,[["__scopeId","data-v-06f2c101"]]),it=q(Xe);export{rt as $,it as F,at as M,nt as S,st as w};
