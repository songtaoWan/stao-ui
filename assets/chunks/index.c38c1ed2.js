import{u as F,d as g,q as S,v as c,b as u,F as y,a as k,z as m,B as h,Y as z,m as _,N as L,A as T,aa as O,n as I,L as N,X,D as q,a8 as P,ad as W,e as Y,f as Z}from"./framework.b8b3e2fc.js";import{C as x,i as j}from"./stao-ui-utils.40268771.js";const $=d=>(Y("data-v-0ee75c9c"),d=d(),Z(),d),H=["webkitdirectory","multiple","accept"],J=$(()=>y("div",{class:"default_btn"},"选择文件",-1)),K=["onDrop"],Q=$(()=>y("div",{class:"default_btn"},"选择文件",-1)),G=F({__name:"FileSelector",props:{webkitdirectory:{type:Boolean,default:!1},accept:{default:""},limit:{default:1},drag:{type:Boolean,default:!1},excessReplace:{type:Boolean,default:!1},size:{},disabled:{type:Boolean,default:!1}},emits:["changeFile","overSize"],setup(d,{expose:v,emit:i}){const t=d,p=(a,o,f)=>!(o&&a.size>o||f&&a.type!==f),l=g(t.disabled);S(()=>t.disabled,a=>{l.value=a});const b=g(null),e=()=>{b.value&&(l.value||b.value.click())},s=g([]),r=a=>{if(!a.length)return;if(t.size&&t.size>0){const f=a.filter(C=>!p(C,t.size));if(f.length){i("overSize",f);return}}const o={singleFile:()=>{t.excessReplace||(l.value=!0),s.value=a,i("changeFile",s.value)},multipleFile:()=>{if(t.limit===1/0){s.value.push(...a),i("changeFile",s.value);return}s.value.length+a.length>=t.limit&&!t.excessReplace&&(l.value=!0);const f=[...s.value,...a];if(t.excessReplace){const C=f.length;f.splice(0,C-t.limit)}else f.splice(t.limit);s.value=f,i("changeFile",s.value)},folder:()=>{l.value=!0,s.value=a,i("changeFile",s.value)}};if(t.webkitdirectory){o.folder();return}if(!t.limit||t.limit===1){o.singleFile();return}o.multipleFile()},n=a=>{!Number.isInteger(a)||a>=s.value.length||(s.value.splice(a,1),l.value&&(l.value=!1),s.value.length||(b.value.value=""))},B=()=>{l.value=!1,s.value=[],b.value.value=""},A=a=>{const o=a.target.files;o&&r(Array.from(o))},R=a=>{const o=a.dataTransfer.files;r(Array.from(o))};return v({onSelectFile:e,deleteFile:n,clearFiles:B,verifyFile:p}),(a,o)=>(c(),u(_,null,[y("input",{ref_key:"fileEle",ref:b,type:"file",name:"files",title:"upload",webkitdirectory:a.webkitdirectory,multiple:a.limit!==void 0&&a.limit>1,accept:a.accept,class:"file_input",onChange:A},null,40,H),!a.drag||a.webkitdirectory?(c(),u("div",{key:0,class:k(["file_btn",l.value?"file_btn--stop":""]),onClick:e},[m(a.$slots,"default",{disabled:l.value},()=>[J],!0)],2)):h("",!0),a.drag&&!a.webkitdirectory?(c(),u("div",{key:1,class:k(["file_btn",l.value?"file_btn--stop":""]),onClick:e,onDragenter:o[0]||(o[0]=z(()=>{},["prevent"])),onDragover:o[1]||(o[1]=z(()=>{},["prevent"])),onDrop:z(R,["prevent"])},[m(a.$slots,"default",{disabled:l.value},()=>[Q],!0)],42,K)):h("",!0)],64))}}),w=(d,v)=>{const i=d.__vccOpts||d;for(const[t,p]of v)i[t]=p;return i},D=w(G,[["__scopeId","data-v-0ee75c9c"]]);D.name="STaoFileSelector";const ue=x(D),M=F({__name:"SButton",props:{type:{},disabled:{type:Boolean}},setup(d){return(v,i)=>(c(),u("button",{name:"button",type:"button",autocomplete:"off",class:k(["s-button",{"s-button-line":v.type==="line","s-button--disabled":v.disabled}])},[m(v.$slots,"default",{},void 0,!0)],2))}}),E=w(M,[["__scopeId","data-v-08a1ebff"]]);E.name="STaoButton";const de=x(E),U=F({name:"TextEllipsis",__name:"index",emits:["changeStatus"],setup(d,{emit:v}){const{isOverflow:i,textEllipsisRef:t}=j();return S(i,p=>{v("changeStatus",p)},{immediate:!0}),(p,l)=>(c(),u("div",{ref_key:"textEllipsisRef",ref:t,class:"ellipsis"},[y("span",null,[m(p.$slots,"default",{isOverflow:L(i)},void 0,!0)])],512))}}),V=w(U,[["__scopeId","data-v-c1e4fdcc"]]),ve=x(V),ee={key:0,class:"tabs"},ae=["onClick"],te={key:0,class:"divide"},le={class:"tabs_content"},se={key:0,class:"tabs_content_item"},ie=F({name:"STabs",__name:"index",props:{type:{},tabs:{},activeId:{},isDestroyChange:{type:Boolean}},emits:["onChange","update:activeId"],setup(d,{emit:v}){const i=d,t=g(0),p=e=>{t.value=e,v("update:activeId",i.tabs[e].id),v("onChange",e)};S(()=>i.activeId,e=>{if(e===void 0)return;const s=i.tabs.findIndex(r=>r.id===e);s!==-1&&s!==t.value&&(t.value=s)},{immediate:!0});const l=g(null),b=e=>{e.preventDefault(),l.value&&(l.value.scrollLeft+=e.deltaY*.2)};return T(()=>{if(i.type!=="card"&&l.value){const e=l.value.clientWidth;l.value.scrollWidth!==e&&l.value.addEventListener("wheel",b)}}),O(()=>{var e;(e=l.value)==null||e.removeEventListener("wheel",b)}),(e,s)=>e.tabs&&e.tabs.length?(c(),u("div",ee,[y("div",{class:"tabs_nav",style:q(e.type==="card"?"height: auto;":"")},[y("div",{ref_key:"tabsElement",ref:l,class:k({"tabs_nav_list--card":e.type==="card",tabs_nav_list:e.type!=="card"})},[(c(!0),u(_,null,I(e.tabs,(r,n)=>(c(),u("div",{class:k(["tabs_nav_item",{"tabs_nav_item--active":t.value===n}]),key:n,onClick:B=>p(n)},[m(e.$slots,"icon",{isActive:t.value===n,index:n},void 0,!0),m(e.$slots,"tab",{item:r,index:n,isActive:t.value===n},()=>[N(X(r.name),1)],!0)],10,ae))),128))],2),e.type!=="card"?(c(),u("div",te)):h("",!0)],4),y("div",le,[e.isDestroyChange?(c(!0),u(_,{key:0},I(e.tabs,(r,n)=>(c(),u(_,{key:n},[t.value===n?(c(),u("div",se,[m(e.$slots,"default",{item:r,index:n},void 0,!0)])):h("",!0)],64))),128)):(c(!0),u(_,{key:1},I(e.tabs,(r,n)=>P((c(),u("div",{class:"tabs_content_item",key:n},[m(e.$slots,"default",{item:r,index:n},void 0,!0)])),[[W,n===t.value]])),128))])])):h("",!0)}}),ne=w(ie,[["__scopeId","data-v-daab9ae2"]]),re=x(ne);export{ue as c,de as d,re as f,ve as v};
